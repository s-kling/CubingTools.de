<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guildford Optimizer</title>

    <meta name="description"
        content="Tool for optimizing Guildford challenge event combinations between two competitors based on their World Cube Association (WCA) average times. The script updates the URL with form data, fetches and displays WCA data for each competitor, and calculates optimal event divisions to minimize total solve time.">
    <meta name="keywords" content="WCA, world cube association, cubing, speedcubing, tool, tools, cubingtools, cubing tool, cubing tools, mini-guildford, mini guildford challenge, guildford, guildford challenge, challenge, optimizer, guildford optimizer, mini-guildford optimizer, mini guildford optmizer, guildford optimiser, optimiser, mini guildford optimiser, mini-guildford optimiser, guildford optimiser
        ">
    <meta name="author" content="CubingTools">

    <link rel="stylesheet" href="../../css/global.css">
    <link rel="stylesheet" href="../../css/guildford.css">

    <link rel="icon" href="../../assets/cubingtools.png" type="image/x-icon">
    <link rel="apple-touch-icon" href="../../assets/apple-touch-icon.png">
</head>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-7FDCB5928P"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const consentBanner = document.getElementById('cookie-consent-banner');
        const cookiesAccepted = localStorage.getItem('cookies_accepted');

        // If cookies are accepted and on the correct hostname, initialize Google Analytics
        if (cookiesAccepted === 'true' && window.location.hostname === 'cubingtools') {
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());
            gtag('config', 'G-7FDCB5928P');
        } else if (!cookiesAccepted) {
            consentBanner.style.display = 'block';
        }

        // Function to handle cookie consent
        function handleConsent(isAccepted) {
            localStorage.setItem('cookies_accepted', isAccepted);
            consentBanner.style.display = 'none';
        }

        // Event listeners for accept and decline buttons
        document.getElementById('accept-cookies').addEventListener('click', () => handleConsent('true'));
        document.getElementById('decline-cookies').addEventListener('click', () => handleConsent('false'));

    });
</script>

<div id="cookie-consent-banner"
    style="background-color: #333; color: white; padding: 10px; text-align: center; position: fixed; bottom: 0; width: 100%; display: none; z-index: 99999;">
    <p>
        We use cookies to improve your experience. By using our website, you agree to our <a href="/privacy-policy"
            style="color: #ffd700;">privacy policy</a>.
        <button id="accept-cookies" style="background-color: #ffd700; color: #333; padding: 5px 10px;">Accept</button>
        <button id="decline-cookies" style="background-color: #ff0000; color: #333; padding: 5px 10px;">Decline</button>
    </p>
</div>

<body>
    <div class="container">
        <nav>
            <a href="/" class="logo">CubingTools</a>
            <div class="navbar">
                <a href="/">Home</a>
                <a href="mailto: info@cubingtools.de">Contact</a>
                <a href="/privacy-policy">Privacy Policy</a>
            </div>
        </nav>

        <div id="sidebar">
            <h2>Tools</h2>
        </div>

        <main>
            <section class="heading">
                <h1>Mini Guildford Optimizer</h1>
                <p>
                    This is the 2-Man Mini Guildford Optimizer. To start, input your global times for each event
                    <span class="bold">in seconds</span> for your partner and yourself.
                </p>
                <p>
                    If you aren't sure what your globals are, you can also input your WCA ID. This will return your
                    latest Ao25 for each event! If you have more solves that you would like to be taken into account for
                    your global, modify the
                    <span class="bold">Solve count to process</span> input field.
                </p>
                <p>
                    If you cannot solve a puzzle, or simply do not want to, you can input DNF as your time.
                </p>

                <div class="input-container">
                    <label><span>Pick Up Time:</span> <input type="number" id="pickup" value="1.5"></label>
                    <label><span>Solve count to process:</span> <input type="number" id="solvecount" value="25"></label>
                    <label><span>Relay preset:</span><select name="relay" id="relay">
                            <option value="miniguild">Mini Guildford</option>
                            <option value="guildford">Guildford</option>
                            <option value="miniguildfto">Mini Guildford (FTO)</option>
                            <option value="guildfordfto">Guildford (FTO)</option>
                            <option value="twotoseven">2x2-7x7 Relay</option>
                        </select></label>
                </div>

                <form id="timeForm">
                    <div class="competitor">
                        <h3 id="competitor-1-name">Competitor 1</h3>
                        <label><span>WCA:</span> <input type="text" id="c1-wca"></label>
                        <button class="globals-btn" type="button" onclick="handleButtons('c1')">Add Globals</button>
                        <div id="c1-times"></div>
                    </div>

                    <div class="competitor">
                        <h3 id="competitor-2-name">Competitor 2</h3>
                        <label><span>WCA:</span> <input type="text" id="c2-wca"></label>
                        <button class="globals-btn" type="button" onclick="handleButtons('c2')">Add Globals</button>
                        <div id="c2-times"></div>
                    </div>

                    <button type="submit">Optimize</button>

                </form>
                <div class="result" id="result">
                    <h2>Results</h2>
                    <div id="combinationsCounted"></div>
                    <div id="bestCombination"></div>
                </div>
            </section>
        </main>
        <footer>
            <div class="footer-content">
                <p>Developed by <a href="mailto:sebastian@cubingtools.de">Sebastian Kling</a>, with dedication to the
                    cubing community.</p>
                <p class="hide-sm">
                    CubingTools.de is using the <a target="_blank"
                        href="https://wca-rest-api.robiningelbrecht.be/">Unofficial World Cube Association API</a>.
                </p>
            </div>
        </footer>
    </div>

    <script src="../../js/loadTools.js"></script>
    <script src="../../js/guildford.js"></script>
</body>

</html>