<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Policy - CubingTools.de</title>
    <meta name="description" content="Privacy Policy for CubingTools.de. Learn how we handle your data responsibly.">
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/privacy.css">
    <link rel="icon" href="../../assets/cubingtools.png" type="image/x-icon">
    <link rel="apple-touch-icon" href="../../assets/apple-touch-icon.png">
</head>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-7FDCB5928P"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const consentBanner = document.getElementById('cookie-consent-banner');
        const cookiesAccepted = localStorage.getItem('cookies_accepted');

        // If cookies are accepted and on the correct hostname, initialize Google Analytics
        if (cookiesAccepted === 'true' && window.location.hostname === 'cubingtools') {
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());
            gtag('config', 'G-7FDCB5928P');
        } else if (!cookiesAccepted) {
            consentBanner.style.display = 'block';
        }

        // Function to handle cookie consent
        function handleConsent(isAccepted) {
            localStorage.setItem('cookies_accepted', isAccepted);
            consentBanner.style.display = 'none';
        }

        // Event listeners for accept and decline buttons
        document.getElementById('accept-cookies').addEventListener('click', () => handleConsent('true'));
        document.getElementById('decline-cookies').addEventListener('click', () => handleConsent('false'));
    });
</script>

<div id="cookie-consent-banner"
    style="background-color: #333; color: white; padding: 10px; text-align: center; position: fixed; bottom: 0; width: 100%; display: none; z-index: 99999;">
    <p>
        We use cookies to improve your experience. By using our website, you agree to our <a href="/privacy-policy"
            style="color: #ffd700;">privacy policy</a>.
        <button id="accept-cookies" style="background-color: #ffd700; color: #333; padding: 5px 10px;">Accept</button>
        <button id="decline-cookies" style="background-color: #ff0000; color: #333; padding: 5px 10px;">Decline</button>
    </p>
</div>

<body>
    <div class="container">
        <nav>
            <a href="/" class="logo">CubingTools</a>
            <div class="navbar">
                <a href="/">Home</a>
                <a href="mailto: info@cubingtools.de">Contact</a>
                <a href="/privacy-policy">Privacy Policy</a>
            </div>
        </nav>

        <div id="sidebar">
            <h2>Tools</h2>
        </div>

        <main>
            <section class="heading">
                <h1>CubingTools.de Privacy Policy</h1>
                <p>Select a version to view:</p>
                <select id="policy-version-dropdown"></select>
                <button onclick="localStorage.clear(); window.location.reload()">Reset Cookie Response</button>

                <section id="policy-content">
                    <!-- The Privacy Policy content will be dynamically injected here -->
                </section>
            </section>
        </main>

        <footer>
            <div class="footer-content">
                <p>Developed by <a href="mailto:sebastian@cubingtools.de">Sebastian Kling</a>, with dedication to the
                    cubing community.</p>
                <p class="hide-sm">
                    CubingTools.de is using the <a target="_blank"
                        href="https://wca-rest-api.robiningelbrecht.be/">Unofficial World Cube Association API</a>.
                </p>
            </div>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="../js/loadTools.js"></script>
    <script src="../js/privacy.js"></script>
</body>

</html>